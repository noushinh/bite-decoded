{"ast":null,"code":"var _jsxFileName = \"/Users/noushinhaque/foodies/src/components/Map.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\n// Dynamically load a script and return a Promise that resolves when loaded\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction loadScript(src) {\n  return new Promise((resolve, reject) => {\n    if (document.querySelector(`script[src=\"${src}\"]`)) return resolve();\n    const s = document.createElement('script');\n    s.src = src;\n    s.async = true;\n    s.onload = resolve;\n    s.onerror = reject;\n    document.head.appendChild(s);\n  });\n}\n\n// Dynamically load a stylesheet\nfunction loadStyle(href) {\n  return new Promise((resolve, reject) => {\n    if (document.querySelector(`link[href=\"${href}\"]`)) return resolve();\n    const l = document.createElement('link');\n    l.rel = 'stylesheet';\n    l.href = href;\n    l.onload = resolve;\n    l.onerror = reject;\n    document.head.appendChild(l);\n  });\n}\nexport default function Map({\n  locations = [],\n  selectedLocation = null\n}) {\n  _s();\n  const mapContainer = useRef(null);\n  const mapRef = useRef(null);\n  const markersRef = useRef([]);\n  const [mapMode, setMapMode] = useState(null); // 'mapbox' | 'leaflet' | null\n\n  useEffect(() => {\n    const token = process.env.REACT_APP_MAPBOX_TOKEN || window.__MAPBOX_TOKEN__;\n    if (token) {\n      // Initialize Mapbox\n      mapboxgl.accessToken = token;\n      const map = new mapboxgl.Map({\n        container: mapContainer.current,\n        style: 'mapbox://styles/mapbox/streets-v11',\n        center: [-74.006, 40.7128],\n        zoom: 12\n      });\n      map.addControl(new mapboxgl.NavigationControl());\n      mapRef.current = map;\n      setMapMode('mapbox');\n      map.on('load', () => {\n        try {\n          const canvas = map.getCanvas();\n          if (canvas) canvas.style.background = '#e9f3ff';\n        } catch (e) {\n          // ignore\n        }\n      });\n      return () => {\n        map.remove();\n        mapRef.current = null;\n        setMapMode(null);\n      };\n    }\n\n    // No token — dynamically load Leaflet and use it as a fallback so a visible map appears\n    let isCancelled = false;\n    (async () => {\n      try {\n        await loadStyle('https://unpkg.com/leaflet@1.9.4/dist/leaflet.css');\n        await loadScript('https://unpkg.com/leaflet@1.9.4/dist/leaflet.js');\n        if (isCancelled) return;\n        // eslint-disable-next-line no-undef\n        const L = window.L;\n        if (!L) throw new Error('Leaflet failed to load');\n        const map = L.map(mapContainer.current, {\n          scrollWheelZoom: true\n        }).setView([20, 0], 2);\n        // add tile layer\n        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n          maxZoom: 19,\n          attribution: '&copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors'\n        }).addTo(map);\n        mapRef.current = map;\n        setMapMode('leaflet');\n\n        // ensure proper sizing when inside flex containers\n        setTimeout(() => map.invalidateSize && map.invalidateSize(), 200);\n        window.addEventListener('resize', () => map.invalidateSize && map.invalidateSize());\n      } catch (e) {\n        // eslint-disable-next-line no-console\n        console.warn('Leaflet fallback failed:', e);\n      }\n    })();\n    return () => {\n      isCancelled = true;\n      try {\n        const m = mapRef.current;\n        if (m && m.remove) m.remove();\n      } catch (e) {}\n    };\n  }, []);\n\n  // Add markers for either Mapbox or Leaflet depending on mode\n  useEffect(() => {\n    if (mapMode === 'mapbox') {\n      const map = mapRef.current;\n      if (!map) return;\n      // clear old\n      markersRef.current.forEach(m => m.remove());\n      markersRef.current = [];\n      locations.forEach(loc => {\n        const marker = new mapboxgl.Marker().setLngLat(loc.coordinates).setPopup(new mapboxgl.Popup({\n          offset: 12\n        }).setHTML(`<strong>${loc.title}</strong><p>${loc.description}</p>`)).addTo(map);\n        markersRef.current.push(marker);\n      });\n    } else if (mapMode === 'leaflet') {\n      const map = mapRef.current;\n      if (!map) return;\n      // remove existing layers created by markersRef\n      markersRef.current.forEach(m => {\n        try {\n          map.removeLayer(m);\n        } catch (e) {}\n      });\n      markersRef.current = [];\n\n      // eslint-disable-next-line no-undef\n      const L = window.L;\n      locations.forEach(loc => {\n        try {\n          const m = L.circleMarker([loc.coordinates[1], loc.coordinates[0]], {\n            radius: 6,\n            color: '#2a9df4',\n            fillOpacity: 0.9\n          }).addTo(map);\n          m.bindPopup(`<strong>${loc.title}</strong><br/>${loc.description}`);\n          markersRef.current.push(m);\n        } catch (e) {\n          // ignore\n        }\n      });\n    }\n  }, [locations, mapMode]);\n\n  // Handle selection: flyTo / open popup in the active map\n  useEffect(() => {\n    if (!selectedLocation) return;\n    if (mapMode === 'mapbox') {\n      const map = mapRef.current;\n      if (!map) return;\n      const [lng, lat] = selectedLocation.coordinates;\n      map.flyTo({\n        center: [lng, lat],\n        zoom: 14\n      });\n      const matched = markersRef.current.find(m => {\n        const lngLat = m.getLngLat();\n        return Math.abs(lngLat.lng - lng) < 1e-6 && Math.abs(lngLat.lat - lat) < 1e-6;\n      });\n      if (matched) matched.togglePopup();\n    } else if (mapMode === 'leaflet') {\n      const map = mapRef.current;\n      if (!map) return;\n      const [lng, lat] = selectedLocation.coordinates;\n      // eslint-disable-next-line no-undef\n      map.setView([lat, lng], 14);\n      const matched = markersRef.current.find(m => {\n        try {\n          const latlng = m.getLatLng();\n          return Math.abs(latlng.lng - lng) < 1e-6 && Math.abs(latlng.lat - lat) < 1e-6;\n        } catch (e) {\n          return false;\n        }\n      });\n      if (matched && matched.openPopup) matched.openPopup();\n    }\n  }, [selectedLocation, mapMode]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative',\n      height: '100%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mapContainer,\n      id: \"map\",\n      className: \"map\",\n      style: {\n        height: '100%'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), mapMode === null && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: 80,\n        left: 16,\n        background: 'rgba(255,255,255,0.95)',\n        padding: 10,\n        borderRadius: 6,\n        zIndex: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Loading map...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: 13,\n          marginTop: 6\n        },\n        children: \"Initializing map. If you prefer Mapbox, set a token.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 5\n  }, this);\n}\n_s(Map, \"t6uaSzRwoNucV+asNLGC/Eni/3s=\");\n_c = Map;\nvar _c;\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"names":["React","useRef","useEffect","useState","mapboxgl","jsxDEV","_jsxDEV","loadScript","src","Promise","resolve","reject","document","querySelector","s","createElement","async","onload","onerror","head","appendChild","loadStyle","href","l","rel","Map","locations","selectedLocation","_s","mapContainer","mapRef","markersRef","mapMode","setMapMode","token","process","env","REACT_APP_MAPBOX_TOKEN","window","__MAPBOX_TOKEN__","accessToken","map","container","current","style","center","zoom","addControl","NavigationControl","on","canvas","getCanvas","background","e","remove","isCancelled","L","Error","scrollWheelZoom","setView","tileLayer","maxZoom","attribution","addTo","setTimeout","invalidateSize","addEventListener","console","warn","m","forEach","loc","marker","Marker","setLngLat","coordinates","setPopup","Popup","offset","setHTML","title","description","push","removeLayer","circleMarker","radius","color","fillOpacity","bindPopup","lng","lat","flyTo","matched","find","lngLat","getLngLat","Math","abs","togglePopup","latlng","getLatLng","openPopup","position","height","children","ref","id","className","fileName","_jsxFileName","lineNumber","columnNumber","top","left","padding","borderRadius","zIndex","fontSize","marginTop","_c","$RefreshReg$"],"sources":["/Users/noushinhaque/foodies/src/components/Map.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\n// Dynamically load a script and return a Promise that resolves when loaded\nfunction loadScript(src) {\n  return new Promise((resolve, reject) => {\n    if (document.querySelector(`script[src=\"${src}\"]`)) return resolve();\n    const s = document.createElement('script');\n    s.src = src;\n    s.async = true;\n    s.onload = resolve;\n    s.onerror = reject;\n    document.head.appendChild(s);\n  });\n}\n\n// Dynamically load a stylesheet\nfunction loadStyle(href) {\n  return new Promise((resolve, reject) => {\n    if (document.querySelector(`link[href=\"${href}\"]`)) return resolve();\n    const l = document.createElement('link');\n    l.rel = 'stylesheet';\n    l.href = href;\n    l.onload = resolve;\n    l.onerror = reject;\n    document.head.appendChild(l);\n  });\n}\n\nexport default function Map({ locations = [], selectedLocation = null }) {\n  const mapContainer = useRef(null);\n  const mapRef = useRef(null);\n  const markersRef = useRef([]);\n  const [mapMode, setMapMode] = useState(null); // 'mapbox' | 'leaflet' | null\n\n  useEffect(() => {\n    const token = process.env.REACT_APP_MAPBOX_TOKEN || window.__MAPBOX_TOKEN__;\n\n    if (token) {\n      // Initialize Mapbox\n      mapboxgl.accessToken = token;\n      const map = new mapboxgl.Map({\n        container: mapContainer.current,\n        style: 'mapbox://styles/mapbox/streets-v11',\n        center: [-74.006, 40.7128],\n        zoom: 12,\n      });\n      map.addControl(new mapboxgl.NavigationControl());\n      mapRef.current = map;\n      setMapMode('mapbox');\n\n      map.on('load', () => {\n        try {\n          const canvas = map.getCanvas();\n          if (canvas) canvas.style.background = '#e9f3ff';\n        } catch (e) {\n          // ignore\n        }\n      });\n\n      return () => {\n        map.remove();\n        mapRef.current = null;\n        setMapMode(null);\n      };\n    }\n\n    // No token — dynamically load Leaflet and use it as a fallback so a visible map appears\n    let isCancelled = false;\n    (async () => {\n      try {\n        await loadStyle('https://unpkg.com/leaflet@1.9.4/dist/leaflet.css');\n        await loadScript('https://unpkg.com/leaflet@1.9.4/dist/leaflet.js');\n        if (isCancelled) return;\n        // eslint-disable-next-line no-undef\n        const L = window.L;\n        if (!L) throw new Error('Leaflet failed to load');\n\n        const map = L.map(mapContainer.current, { scrollWheelZoom: true }).setView([20, 0], 2);\n        // add tile layer\n        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n          maxZoom: 19,\n          attribution: '&copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors',\n        }).addTo(map);\n\n        mapRef.current = map;\n        setMapMode('leaflet');\n\n        // ensure proper sizing when inside flex containers\n        setTimeout(() => map.invalidateSize && map.invalidateSize(), 200);\n        window.addEventListener('resize', () => map.invalidateSize && map.invalidateSize());\n      } catch (e) {\n        // eslint-disable-next-line no-console\n        console.warn('Leaflet fallback failed:', e);\n      }\n    })();\n\n    return () => {\n      isCancelled = true;\n      try {\n        const m = mapRef.current;\n        if (m && m.remove) m.remove();\n      } catch (e) {}\n    };\n  }, []);\n\n  // Add markers for either Mapbox or Leaflet depending on mode\n  useEffect(() => {\n    if (mapMode === 'mapbox') {\n      const map = mapRef.current;\n      if (!map) return;\n      // clear old\n      markersRef.current.forEach((m) => m.remove());\n      markersRef.current = [];\n\n      locations.forEach((loc) => {\n        const marker = new mapboxgl.Marker()\n          .setLngLat(loc.coordinates)\n          .setPopup(new mapboxgl.Popup({ offset: 12 }).setHTML(`<strong>${loc.title}</strong><p>${loc.description}</p>`))\n          .addTo(map);\n        markersRef.current.push(marker);\n      });\n    } else if (mapMode === 'leaflet') {\n      const map = mapRef.current;\n      if (!map) return;\n      // remove existing layers created by markersRef\n      markersRef.current.forEach((m) => { try { map.removeLayer(m); } catch (e) {} });\n      markersRef.current = [];\n\n      // eslint-disable-next-line no-undef\n      const L = window.L;\n      locations.forEach((loc) => {\n        try {\n          const m = L.circleMarker([loc.coordinates[1], loc.coordinates[0]], { radius: 6, color: '#2a9df4', fillOpacity: 0.9 }).addTo(map);\n          m.bindPopup(`<strong>${loc.title}</strong><br/>${loc.description}`);\n          markersRef.current.push(m);\n        } catch (e) {\n          // ignore\n        }\n      });\n    }\n  }, [locations, mapMode]);\n\n  // Handle selection: flyTo / open popup in the active map\n  useEffect(() => {\n    if (!selectedLocation) return;\n    if (mapMode === 'mapbox') {\n      const map = mapRef.current;\n      if (!map) return;\n      const [lng, lat] = selectedLocation.coordinates;\n      map.flyTo({ center: [lng, lat], zoom: 14 });\n      const matched = markersRef.current.find((m) => {\n        const lngLat = m.getLngLat();\n        return Math.abs(lngLat.lng - lng) < 1e-6 && Math.abs(lngLat.lat - lat) < 1e-6;\n      });\n      if (matched) matched.togglePopup();\n    } else if (mapMode === 'leaflet') {\n      const map = mapRef.current;\n      if (!map) return;\n      const [lng, lat] = selectedLocation.coordinates;\n      // eslint-disable-next-line no-undef\n      map.setView([lat, lng], 14);\n      const matched = markersRef.current.find((m) => {\n        try {\n          const latlng = m.getLatLng();\n          return Math.abs(latlng.lng - lng) < 1e-6 && Math.abs(latlng.lat - lat) < 1e-6;\n        } catch (e) { return false; }\n      });\n      if (matched && matched.openPopup) matched.openPopup();\n    }\n  }, [selectedLocation, mapMode]);\n\n  return (\n    <div style={{ position: 'relative', height: '100%' }}>\n      <div ref={mapContainer} id=\"map\" className=\"map\" style={{ height: '100%' }} />\n      {mapMode === null && (\n        <div style={{ position: 'absolute', top: 80, left: 16, background: 'rgba(255,255,255,0.95)', padding: 10, borderRadius: 6, zIndex: 2 }}>\n          <strong>Loading map...</strong>\n          <div style={{ fontSize: 13, marginTop: 6 }}>Initializing map. If you prefer Mapbox, set a token.</div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}