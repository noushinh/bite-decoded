{"ast":null,"code":"import React,{useRef,useEffect,useState}from'react';import mapboxgl from'mapbox-gl';import'mapbox-gl/dist/mapbox-gl.css';import L from'leaflet';import'leaflet/dist/leaflet.css';// (No dynamic loaders needed — Leaflet is imported from npm)\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Map(_ref){let{locations=[],selectedLocation=null}=_ref;const mapContainer=useRef(null);const mapRef=useRef(null);const markersRef=useRef([]);const[mapMode,setMapMode]=useState(null);// 'mapbox' | 'leaflet' | null\nuseEffect(()=>{const rawToken=process.env.REACT_APP_MAPBOX_TOKEN||window.__MAPBOX_TOKEN__;// Treat the placeholder string as \"no token\" so deployments that leave the\n// placeholder won't attempt Mapbox requests which fail with CORS/401.\nconst token=rawToken&&rawToken!=='REPLACE_WITH_MAPBOX_TOKEN'?rawToken:null;if(token){// Initialize Mapbox\nmapboxgl.accessToken=token;const map=new mapboxgl.Map({container:mapContainer.current,style:'mapbox://styles/mapbox/streets-v11',center:[-74.006,40.7128],zoom:12});map.addControl(new mapboxgl.NavigationControl());mapRef.current=map;setMapMode('mapbox');// ensure Mapbox canvas sizes correctly — call resize multiple times\nconst ensureMapboxSize=()=>{try{map.resize&&map.resize();}catch(e){}};ensureMapboxSize();const _m1=setTimeout(ensureMapboxSize,100);const _m2=setTimeout(ensureMapboxSize,500);const _m3=setTimeout(ensureMapboxSize,1000);map.on('load',()=>{try{const canvas=map.getCanvas();if(canvas)canvas.style.background='#e9f3ff';}catch(e){// ignore\n}});return()=>{clearTimeout(_m1);clearTimeout(_m2);clearTimeout(_m3);map.remove();mapRef.current=null;setMapMode(null);};}// No token — use locally-installed Leaflet as fallback so a visible map appears\ntry{const map=L.map(mapContainer.current,{scrollWheelZoom:true}).setView([20,0],2);L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{maxZoom:19,attribution:'&copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors'}).addTo(map);mapRef.current=map;setMapMode('leaflet');// ensure proper sizing when inside flex containers\nconst ensureSize=()=>{try{map.invalidateSize&&map.invalidateSize();}catch(e){}};ensureSize();const _t1=setTimeout(ensureSize,100);const _t2=setTimeout(ensureSize,500);const _t3=setTimeout(ensureSize,1000);const onResize=()=>ensureSize();window.addEventListener('resize',onResize);// debug\n// eslint-disable-next-line no-console\nconsole.log('Leaflet initialized — scheduled invalidateSize retries');return()=>{try{window.removeEventListener('resize',onResize);}catch(e){}clearTimeout(_t1);clearTimeout(_t2);clearTimeout(_t3);try{map.remove();}catch(e){}mapRef.current=null;setMapMode(null);};}catch(e){// eslint-disable-next-line no-console\nconsole.warn('Leaflet fallback failed:',e);return()=>{setMapMode(null);};}},[]);// Add markers for either Mapbox or Leaflet depending on mode\nuseEffect(()=>{if(mapMode==='mapbox'){const map=mapRef.current;if(!map)return;// clear old\nmarkersRef.current.forEach(m=>m.remove());markersRef.current=[];locations.forEach(loc=>{const marker=new mapboxgl.Marker().setLngLat(loc.coordinates).setPopup(new mapboxgl.Popup({offset:12}).setHTML(\"<strong>\".concat(loc.title,\"</strong><p>\").concat(loc.description,\"</p>\"))).addTo(map);markersRef.current.push(marker);});}else if(mapMode==='leaflet'){const map=mapRef.current;if(!map)return;// remove existing layers created by markersRef\nmarkersRef.current.forEach(m=>{try{map.removeLayer(m);}catch(e){}});markersRef.current=[];locations.forEach(loc=>{try{const m=L.circleMarker([loc.coordinates[1],loc.coordinates[0]],{radius:6,color:'#2a9df4',fillOpacity:0.9}).addTo(map);m.bindPopup(\"<strong>\".concat(loc.title,\"</strong><br/>\").concat(loc.description));markersRef.current.push(m);}catch(e){// ignore\n}});}},[locations,mapMode]);// Handle selection: flyTo / open popup in the active map\nuseEffect(()=>{if(!selectedLocation)return;if(mapMode==='mapbox'){const map=mapRef.current;if(!map)return;const[lng,lat]=selectedLocation.coordinates;map.flyTo({center:[lng,lat],zoom:14});const matched=markersRef.current.find(m=>{const lngLat=m.getLngLat();return Math.abs(lngLat.lng-lng)<1e-6&&Math.abs(lngLat.lat-lat)<1e-6;});if(matched)matched.togglePopup();}else if(mapMode==='leaflet'){const map=mapRef.current;if(!map)return;const[lng,lat]=selectedLocation.coordinates;// eslint-disable-next-line no-undef\nmap.setView([lat,lng],14);const matched=markersRef.current.find(m=>{try{const latlng=m.getLatLng();return Math.abs(latlng.lng-lng)<1e-6&&Math.abs(latlng.lat-lat)<1e-6;}catch(e){return false;}});if(matched&&matched.openPopup)matched.openPopup();}},[selectedLocation,mapMode]);return/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',height:'100%'},children:[/*#__PURE__*/_jsx(\"div\",{ref:mapContainer,id:\"map\",className:\"map\",style:{height:'100%'}}),mapMode===null&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:80,left:16,background:'rgba(255,255,255,0.95)',padding:10,borderRadius:6,zIndex:2},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Loading map...\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:13,marginTop:6},children:\"Initializing map. If you prefer Mapbox, set a token.\"})]})]});}","map":{"version":3,"names":["React","useRef","useEffect","useState","mapboxgl","L","jsx","_jsx","jsxs","_jsxs","Map","_ref","locations","selectedLocation","mapContainer","mapRef","markersRef","mapMode","setMapMode","rawToken","process","env","REACT_APP_MAPBOX_TOKEN","window","__MAPBOX_TOKEN__","token","accessToken","map","container","current","style","center","zoom","addControl","NavigationControl","ensureMapboxSize","resize","e","_m1","setTimeout","_m2","_m3","on","canvas","getCanvas","background","clearTimeout","remove","scrollWheelZoom","setView","tileLayer","maxZoom","attribution","addTo","ensureSize","invalidateSize","_t1","_t2","_t3","onResize","addEventListener","console","log","removeEventListener","warn","forEach","m","loc","marker","Marker","setLngLat","coordinates","setPopup","Popup","offset","setHTML","concat","title","description","push","removeLayer","circleMarker","radius","color","fillOpacity","bindPopup","lng","lat","flyTo","matched","find","lngLat","getLngLat","Math","abs","togglePopup","latlng","getLatLng","openPopup","position","height","children","ref","id","className","top","left","padding","borderRadius","zIndex","fontSize","marginTop"],"sources":["/Users/noushinhaque/foodies/src/components/Map.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport mapboxgl from 'mapbox-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\n// (No dynamic loaders needed — Leaflet is imported from npm)\n\nexport default function Map({ locations = [], selectedLocation = null }) {\n  const mapContainer = useRef(null);\n  const mapRef = useRef(null);\n  const markersRef = useRef([]);\n  const [mapMode, setMapMode] = useState(null); // 'mapbox' | 'leaflet' | null\n\n  useEffect(() => {\n    const rawToken = process.env.REACT_APP_MAPBOX_TOKEN || window.__MAPBOX_TOKEN__;\n    // Treat the placeholder string as \"no token\" so deployments that leave the\n    // placeholder won't attempt Mapbox requests which fail with CORS/401.\n    const token = rawToken && rawToken !== 'REPLACE_WITH_MAPBOX_TOKEN' ? rawToken : null;\n\n    if (token) {\n      // Initialize Mapbox\n      mapboxgl.accessToken = token;\n      const map = new mapboxgl.Map({\n        container: mapContainer.current,\n        style: 'mapbox://styles/mapbox/streets-v11',\n        center: [-74.006, 40.7128],\n        zoom: 12,\n      });\n      map.addControl(new mapboxgl.NavigationControl());\n      mapRef.current = map;\n      setMapMode('mapbox');\n\n      // ensure Mapbox canvas sizes correctly — call resize multiple times\n      const ensureMapboxSize = () => { try { map.resize && map.resize(); } catch (e) {} };\n      ensureMapboxSize();\n      const _m1 = setTimeout(ensureMapboxSize, 100);\n      const _m2 = setTimeout(ensureMapboxSize, 500);\n      const _m3 = setTimeout(ensureMapboxSize, 1000);\n\n      map.on('load', () => {\n        try {\n          const canvas = map.getCanvas();\n          if (canvas) canvas.style.background = '#e9f3ff';\n        } catch (e) {\n          // ignore\n        }\n      });\n\n      return () => {\n        clearTimeout(_m1); clearTimeout(_m2); clearTimeout(_m3);\n        map.remove();\n        mapRef.current = null;\n        setMapMode(null);\n      };\n    }\n\n    // No token — use locally-installed Leaflet as fallback so a visible map appears\n    try {\n      const map = L.map(mapContainer.current, { scrollWheelZoom: true }).setView([20, 0], 2);\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        maxZoom: 19,\n        attribution: '&copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors',\n      }).addTo(map);\n\n      mapRef.current = map;\n      setMapMode('leaflet');\n\n      // ensure proper sizing when inside flex containers\n      const ensureSize = () => { try { map.invalidateSize && map.invalidateSize(); } catch (e) {} };\n      ensureSize();\n      const _t1 = setTimeout(ensureSize, 100);\n      const _t2 = setTimeout(ensureSize, 500);\n      const _t3 = setTimeout(ensureSize, 1000);\n      const onResize = () => ensureSize();\n      window.addEventListener('resize', onResize);\n\n      // debug\n      // eslint-disable-next-line no-console\n      console.log('Leaflet initialized — scheduled invalidateSize retries');\n\n      return () => {\n        try { window.removeEventListener('resize', onResize); } catch(e){}\n        clearTimeout(_t1); clearTimeout(_t2); clearTimeout(_t3);\n        try{ map.remove(); }catch(e){}\n        mapRef.current = null;\n        setMapMode(null);\n      };\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.warn('Leaflet fallback failed:', e);\n      return () => { setMapMode(null); };\n    }\n  }, []);\n\n  // Add markers for either Mapbox or Leaflet depending on mode\n  useEffect(() => {\n    if (mapMode === 'mapbox') {\n      const map = mapRef.current;\n      if (!map) return;\n      // clear old\n      markersRef.current.forEach((m) => m.remove());\n      markersRef.current = [];\n\n      locations.forEach((loc) => {\n        const marker = new mapboxgl.Marker()\n          .setLngLat(loc.coordinates)\n          .setPopup(new mapboxgl.Popup({ offset: 12 }).setHTML(`<strong>${loc.title}</strong><p>${loc.description}</p>`))\n          .addTo(map);\n        markersRef.current.push(marker);\n      });\n    } else if (mapMode === 'leaflet') {\n      const map = mapRef.current;\n      if (!map) return;\n      // remove existing layers created by markersRef\n      markersRef.current.forEach((m) => { try { map.removeLayer(m); } catch (e) {} });\n      markersRef.current = [];\n\n      locations.forEach((loc) => {\n        try {\n          const m = L.circleMarker([loc.coordinates[1], loc.coordinates[0]], { radius: 6, color: '#2a9df4', fillOpacity: 0.9 }).addTo(map);\n          m.bindPopup(`<strong>${loc.title}</strong><br/>${loc.description}`);\n          markersRef.current.push(m);\n        } catch (e) {\n          // ignore\n        }\n      });\n    }\n  }, [locations, mapMode]);\n\n  // Handle selection: flyTo / open popup in the active map\n  useEffect(() => {\n    if (!selectedLocation) return;\n    if (mapMode === 'mapbox') {\n      const map = mapRef.current;\n      if (!map) return;\n      const [lng, lat] = selectedLocation.coordinates;\n      map.flyTo({ center: [lng, lat], zoom: 14 });\n      const matched = markersRef.current.find((m) => {\n        const lngLat = m.getLngLat();\n        return Math.abs(lngLat.lng - lng) < 1e-6 && Math.abs(lngLat.lat - lat) < 1e-6;\n      });\n      if (matched) matched.togglePopup();\n    } else if (mapMode === 'leaflet') {\n      const map = mapRef.current;\n      if (!map) return;\n      const [lng, lat] = selectedLocation.coordinates;\n      // eslint-disable-next-line no-undef\n      map.setView([lat, lng], 14);\n      const matched = markersRef.current.find((m) => {\n        try {\n          const latlng = m.getLatLng();\n          return Math.abs(latlng.lng - lng) < 1e-6 && Math.abs(latlng.lat - lat) < 1e-6;\n        } catch (e) { return false; }\n      });\n      if (matched && matched.openPopup) matched.openPopup();\n    }\n  }, [selectedLocation, mapMode]);\n\n  return (\n    <div style={{ position: 'relative', height: '100%' }}>\n      <div ref={mapContainer} id=\"map\" className=\"map\" style={{ height: '100%' }} />\n      {mapMode === null && (\n        <div style={{ position: 'absolute', top: 80, left: 16, background: 'rgba(255,255,255,0.95)', padding: 10, borderRadius: 6, zIndex: 2 }}>\n          <strong>Loading map...</strong>\n          <div style={{ fontSize: 13, marginTop: 6 }}>Initializing map. If you prefer Mapbox, set a token.</div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}