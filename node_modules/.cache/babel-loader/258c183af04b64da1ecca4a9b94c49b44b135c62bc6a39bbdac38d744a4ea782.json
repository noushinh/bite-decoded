{"ast":null,"code":"import React,{useRef,useEffect,useState}from'react';import L from'leaflet';import'leaflet/dist/leaflet.css';// (No dynamic loaders needed — Leaflet is imported from npm)\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Map(_ref){let{locations=[],selectedLocation=null}=_ref;const mapContainer=useRef(null);const mapRef=useRef(null);const markersRef=useRef([]);useEffect(()=>{let cancelled=false;let tries=0;const initLeaflet=()=>{if(cancelled)return;const container=mapContainer.current;if(!container){if(tries++<20)return setTimeout(initLeaflet,100);// eslint-disable-next-line no-console\nconsole.warn('Leaflet: map container not found after retries');return;}const{clientWidth,clientHeight}=container;// force a visible width/height in case CSS selectors don't match\ntry{if(!clientWidth)container.style.width=container.style.width||'520px';if(!clientHeight)container.style.height=container.style.height||'520px';}catch(e){}if(!clientWidth||!clientHeight){if(tries++<20)return setTimeout(initLeaflet,100);// eslint-disable-next-line no-console\nconsole.warn('Leaflet: map container has zero size after retries',clientWidth,clientHeight);// we'll proceed anyway\n}try{const map=L.map(container,{scrollWheelZoom:true}).setView([20,0],2);L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{maxZoom:19,attribution:'&copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors'}).addTo(map);mapRef.current=map;try{L.control.scale({position:'bottomleft',imperial:false}).addTo(map);}catch(e){}const ensureSize=()=>{try{map.invalidateSize&&map.invalidateSize();}catch(e){}};ensureSize();const _t1=setTimeout(ensureSize,100);const _t2=setTimeout(ensureSize,500);const _t3=setTimeout(ensureSize,1000);const _t4=setTimeout(ensureSize,2000);const _t5=setTimeout(ensureSize,4000);const onResize=()=>ensureSize();window.addEventListener('resize',onResize);// expose for debugging in dev console\n// eslint-disable-next-line no-console\nconsole.log('Leaflet initialized',{clientWidth,clientHeight});// add a visible debug background to the container while tiles load\ntry{container.classList.add('debug-bg');}catch(e){}// @ts-ignore\nif(typeof window!=='undefined')window.__LEAFLET_MAP__=map;return()=>{try{window.removeEventListener('resize',onResize);}catch(e){}clearTimeout(_t1);clearTimeout(_t2);clearTimeout(_t3);clearTimeout(_t4);clearTimeout(_t5);try{map.remove();}catch(e){}try{container.classList.remove('debug-bg');}catch(e){}mapRef.current=null;};}catch(e){// eslint-disable-next-line no-console\nconsole.warn('Leaflet init failed:',e);}};initLeaflet();return()=>{cancelled=true;};},[]);// Update markers (Leaflet)\nuseEffect(()=>{const map=mapRef.current;if(!map)return;// remove existing marker layers\nmarkersRef.current.forEach(m=>{try{map.removeLayer(m);}catch(e){}});markersRef.current=[];locations.forEach(loc=>{try{const m=L.circleMarker([loc.coordinates[1],loc.coordinates[0]],{radius:6,color:'#2a9df4',fillOpacity:0.9}).addTo(map);m.bindPopup(\"<strong>\".concat(loc.title,\"</strong><br/>\").concat(loc.description));markersRef.current.push(m);}catch(e){// ignore\n}});// if we added any markers, fit the map to their bounds for a good initial view\ntry{if(markersRef.current.length>0){const group=L.featureGroup(markersRef.current);map.fitBounds(group.getBounds().pad(0.25),{animate:true});}else{// no markers: show a world view\nmap.setView([20,0],2);}}catch(e){/* ignore fit errors */}},[locations]);// Handle selection: open popup and set view\nuseEffect(()=>{if(!selectedLocation)return;const map=mapRef.current;if(!map)return;const[lng,lat]=selectedLocation.coordinates;map.setView([lat,lng],14);const matched=markersRef.current.find(m=>{try{const latlng=m.getLatLng();return Math.abs(latlng.lng-lng)<1e-6&&Math.abs(latlng.lat-lat)<1e-6;}catch(e){return false;}});if(matched&&matched.openPopup)matched.openPopup();},[selectedLocation]);return/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',height:'100%'},children:[/*#__PURE__*/_jsx(\"div\",{ref:mapContainer,id:\"map\",className:\"map\",style:{height:'100%'}}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',left:12,top:12,zIndex:9999,background:'rgba(255,255,255,0.95)',padding:10,borderRadius:8,boxShadow:'0 6px 18px rgba(20,20,40,0.08)',fontSize:13,pointerEvents:'auto'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:6,fontWeight:700},children:\"Map diagnostics\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:6},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Container:\"}),' ',mapContainer.current?(()=>{const r=mapContainer.current.getBoundingClientRect();return\"\".concat(Math.round(r.width),\"\\xD7\").concat(Math.round(r.height));})():'none']}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:6},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Map instance:\"}),\" \",mapRef.current?'ready':'not initialized']}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:6},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Markers:\"}),\" \",markersRef.current?markersRef.current.length:0]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{try{mapRef.current&&mapRef.current.invalidateSize();}catch(e){}},className:\"btn\",children:\"Invalidate\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{try{mapRef.current&&mapRef.current.setView([40.7128,-74.0060],12);}catch(e){}},className:\"muted\",children:\"Go NYC\"})]})]})]});}","map":{"version":3,"names":["React","useRef","useEffect","useState","L","jsx","_jsx","jsxs","_jsxs","Map","_ref","locations","selectedLocation","mapContainer","mapRef","markersRef","cancelled","tries","initLeaflet","container","current","setTimeout","console","warn","clientWidth","clientHeight","style","width","height","e","map","scrollWheelZoom","setView","tileLayer","maxZoom","attribution","addTo","control","scale","position","imperial","ensureSize","invalidateSize","_t1","_t2","_t3","_t4","_t5","onResize","window","addEventListener","log","classList","add","__LEAFLET_MAP__","removeEventListener","clearTimeout","remove","forEach","m","removeLayer","loc","circleMarker","coordinates","radius","color","fillOpacity","bindPopup","concat","title","description","push","length","group","featureGroup","fitBounds","getBounds","pad","animate","lng","lat","matched","find","latlng","getLatLng","Math","abs","openPopup","children","ref","id","className","left","top","zIndex","background","padding","borderRadius","boxShadow","fontSize","pointerEvents","marginBottom","fontWeight","r","getBoundingClientRect","round","display","gap","onClick"],"sources":["/Users/noushinhaque/foodies/src/components/Map.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\n// (No dynamic loaders needed — Leaflet is imported from npm)\n\nexport default function Map({ locations = [], selectedLocation = null }) {\n  const mapContainer = useRef(null);\n  const mapRef = useRef(null);\n  const markersRef = useRef([]);\n\n    useEffect(() => {\n      let cancelled = false;\n      let tries = 0;\n\n      const initLeaflet = () => {\n        if (cancelled) return;\n        const container = mapContainer.current;\n        if (!container) {\n          if (tries++ < 20) return setTimeout(initLeaflet, 100);\n          // eslint-disable-next-line no-console\n          console.warn('Leaflet: map container not found after retries');\n          return;\n        }\n\n        const { clientWidth, clientHeight } = container;\n        // force a visible width/height in case CSS selectors don't match\n        try {\n          if (!clientWidth) container.style.width = container.style.width || '520px';\n          if (!clientHeight) container.style.height = container.style.height || '520px';\n        } catch (e) {}\n        if (!clientWidth || !clientHeight) {\n          if (tries++ < 20) return setTimeout(initLeaflet, 100);\n          // eslint-disable-next-line no-console\n          console.warn('Leaflet: map container has zero size after retries', clientWidth, clientHeight);\n          // we'll proceed anyway\n        }\n\n        try {\n          const map = L.map(container, { scrollWheelZoom: true }).setView([20, 0], 2);\n          L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n            maxZoom: 19,\n            attribution: '&copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors',\n          }).addTo(map);\n\n          mapRef.current = map;\n\n          try { L.control.scale({ position: 'bottomleft', imperial: false }).addTo(map); } catch (e) {}\n\n          const ensureSize = () => { try { map.invalidateSize && map.invalidateSize(); } catch (e) {} };\n          ensureSize();\n          const _t1 = setTimeout(ensureSize, 100);\n          const _t2 = setTimeout(ensureSize, 500);\n          const _t3 = setTimeout(ensureSize, 1000);\n          const _t4 = setTimeout(ensureSize, 2000);\n          const _t5 = setTimeout(ensureSize, 4000);\n          const onResize = () => ensureSize();\n          window.addEventListener('resize', onResize);\n\n          // expose for debugging in dev console\n          // eslint-disable-next-line no-console\n          console.log('Leaflet initialized', { clientWidth, clientHeight });\n          // add a visible debug background to the container while tiles load\n          try { container.classList.add('debug-bg'); } catch (e) {}\n          // @ts-ignore\n          if (typeof window !== 'undefined') window.__LEAFLET_MAP__ = map;\n\n          return () => {\n            try { window.removeEventListener('resize', onResize); } catch (e) {}\n            clearTimeout(_t1); clearTimeout(_t2); clearTimeout(_t3); clearTimeout(_t4); clearTimeout(_t5);\n            try { map.remove(); } catch (e) {}\n            try { container.classList.remove('debug-bg'); } catch (e) {}\n            mapRef.current = null;\n          };\n        } catch (e) {\n          // eslint-disable-next-line no-console\n          console.warn('Leaflet init failed:', e);\n        }\n      };\n\n      initLeaflet();\n\n      return () => { cancelled = true; };\n    }, []);\n\n  // Update markers (Leaflet)\n  useEffect(() => {\n    const map = mapRef.current;\n    if (!map) return;\n\n    // remove existing marker layers\n    markersRef.current.forEach((m) => { try { map.removeLayer(m); } catch(e) {} });\n    markersRef.current = [];\n\n    locations.forEach((loc) => {\n      try {\n        const m = L.circleMarker([loc.coordinates[1], loc.coordinates[0]], { radius: 6, color: '#2a9df4', fillOpacity: 0.9 }).addTo(map);\n        m.bindPopup(`<strong>${loc.title}</strong><br/>${loc.description}`);\n        markersRef.current.push(m);\n      } catch (e) {\n        // ignore\n      }\n    });\n\n    // if we added any markers, fit the map to their bounds for a good initial view\n    try {\n      if (markersRef.current.length > 0) {\n        const group = L.featureGroup(markersRef.current);\n        map.fitBounds(group.getBounds().pad(0.25), { animate: true });\n      } else {\n        // no markers: show a world view\n        map.setView([20, 0], 2);\n      }\n    } catch (e) { /* ignore fit errors */ }\n  }, [locations]);\n\n  // Handle selection: open popup and set view\n  useEffect(() => {\n    if (!selectedLocation) return;\n    const map = mapRef.current;\n    if (!map) return;\n    const [lng, lat] = selectedLocation.coordinates;\n    map.setView([lat, lng], 14);\n    const matched = markersRef.current.find((m) => {\n      try { const latlng = m.getLatLng(); return Math.abs(latlng.lng - lng) < 1e-6 && Math.abs(latlng.lat - lat) < 1e-6; } catch(e) { return false; }\n    });\n    if (matched && matched.openPopup) matched.openPopup();\n  }, [selectedLocation]);\n\n  return (\n    <div style={{ position: 'relative', height: '100%' }}>\n      <div ref={mapContainer} id=\"map\" className=\"map\" style={{ height: '100%' }} />\n\n      {/* Diagnostic overlay (temporary) */}\n      <div style={{ position: 'absolute', left: 12, top: 12, zIndex: 9999, background: 'rgba(255,255,255,0.95)', padding: 10, borderRadius: 8, boxShadow: '0 6px 18px rgba(20,20,40,0.08)', fontSize: 13, pointerEvents: 'auto' }}>\n        <div style={{ marginBottom: 6, fontWeight: 700 }}>Map diagnostics</div>\n        <div style={{ marginBottom: 6 }}>\n          <strong>Container:</strong>{' '}\n          {mapContainer.current ? (() => { const r = mapContainer.current.getBoundingClientRect(); return `${Math.round(r.width)}×${Math.round(r.height)}`; })() : 'none'}\n        </div>\n        <div style={{ marginBottom: 6 }}><strong>Map instance:</strong> {mapRef.current ? 'ready' : 'not initialized'}</div>\n        <div style={{ marginBottom: 6 }}><strong>Markers:</strong> {markersRef.current ? markersRef.current.length : 0}</div>\n        <div style={{ display: 'flex', gap: 8 }}>\n          <button onClick={() => { try { mapRef.current && mapRef.current.invalidateSize(); } catch(e){} }} className=\"btn\">Invalidate</button>\n          <button onClick={() => { try { mapRef.current && mapRef.current.setView([40.7128, -74.0060], 12); } catch(e){} }} className=\"muted\">Go NYC</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}